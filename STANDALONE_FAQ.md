# ATP_Re 單機版常見問題
# ATP_Re Standalone FAQ

## 目錄 (Table of Contents)

1. [一般問題 (General Questions)](#一般問題-general-questions)
2. [安裝與啟動 (Installation & Startup)](#安裝與啟動-installation--startup)
3. [功能使用 (Feature Usage)](#功能使用-feature-usage)
4. [效能與限制 (Performance & Limitations)](#效能與限制-performance--limitations)
5. [疑難排解 (Troubleshooting)](#疑難排解-troubleshooting)
6. [資料與安全 (Data & Security)](#資料與安全-data--security)
7. [授權與更新 (License & Updates)](#授權與更新-license--updates)

---

## 一般問題 (General Questions)

### Q1: ATP_Re 是什麼？

**A**: ATP_Re 是自動列車防護（Automatic Train Protection）行車紀錄分析系統，用於：
- 解析 ATP 原始資料檔案
- 分析列車運行資料
- 監控系統事件
- 生成分析報表

### Q2: 單機版和伺服器版有什麼區別？

**A**: 

| 特性 | 單機版 | 伺服器版 |
|------|--------|----------|
| 安裝 | 解壓即用 | 需要配置 |
| 資料庫 | SQLite（內嵌） | PostgreSQL（獨立） |
| 多使用者 | 不支援 | 支援 |
| 網路存取 | 僅本機 | 可遠端存取 |
| 效能 | 適合個人使用 | 適合團隊使用 |
| 資料量 | 中小型資料 | 大型資料 |

### Q3: 需要網際網路連線嗎？

**A**: **不需要**。ATP_Re 單機版完全在本地運作，不需要網際網路連線。但：
- 首次下載安裝檔案需要網路
- 軟體更新需要網路
- 所有功能都可離線使用

### Q4: 單機版是否免費？

**A**: 授權條款請參閱 `LICENSE.txt` 檔案。ATP_Re 基於多個開源軟體建構，詳細授權資訊請見文檔。

### Q5: 支援哪些作業系統？

**A**: 
- ✅ **Windows**: Windows 10 (64-bit) 或更新版本
- ✅ **macOS**: macOS 11 Big Sur 或更新版本
- ❌ **Linux**: 目前單機版不支援，請使用伺服器版本

---

## 安裝與啟動 (Installation & Startup)

### Q6: 安裝需要管理員權限嗎？

**A**: 
- **Windows**: 如果安裝到 `Program Files` 需要管理員權限，安裝到使用者目錄則不需要
- **macOS**: 安裝到「應用程式」資料夾不需要管理員權限

### Q7: 可以安裝到外接硬碟嗎？

**A**: **可以**。ATP_Re 是便攜式應用程式，可以安裝到：
- 外接硬碟
- USB 隨身碟
- 網路磁碟機（不建議，可能影響效能）

所有資料會儲存在應用程式目錄中，搬移整個資料夾即可。

### Q8: 為什麼 Windows 顯示「Windows 已保護您的電腦」？

**A**: 這是 Windows SmartScreen 的安全警告，因為：
1. 應用程式沒有數位簽章
2. 首次執行未知的應用程式

**解決方法**:
1. 點擊「更多資訊」
2. 點擊「仍要執行」

這不是病毒或惡意軟體，是正常的 Windows 安全機制。

### Q9: macOS 說「無法開啟 ATP_Re，因為它來自未識別的開發者」？

**A**: 這是 macOS Gatekeeper 的安全機制。

**解決方法**:
1. **不要**直接雙擊開啟
2. **右鍵點擊** ATP_Re.app
3. 選擇「開啟」
4. 在對話框中點擊「開啟」

**替代方法**:
```bash
xattr -cr /Applications/ATP_Re.app
```

### Q10: 啟動很慢，需要等很久？

**A**: 首次啟動可能需要 10-15 秒，因為：
1. 解壓縮內嵌的 Python 環境
2. 初始化資料庫
3. 載入所有模組

**正常啟動時間**:
- 首次: 10-15 秒
- 後續: 5-10 秒

**如果超過 30 秒**:
1. 檢查防毒軟體是否掃描
2. 檢查磁碟空間
3. 查看日誌檔案

### Q11: 可以同時運行多個實例嗎？

**A**: **不建議**。同時運行多個實例會：
- 造成埠號衝突（8000, 8501）
- 可能造成資料庫鎖定
- 浪費系統資源

如果需要處理多個任務，在同一個實例中建立多個任務即可。

---

## 功能使用 (Feature Usage)

### Q12: 支援哪些檔案格式？

**A**: ATP_Re 支援：

| 格式 | 副檔名 | 說明 |
|------|--------|------|
| ATP 資料 | .dat, .bin | 二進位格式 |
| 日誌 | .log, .txt | 文字格式 |
| 壓縮檔 | .zip | 包含多個檔案 |

### Q13: 檔案大小有限制嗎？

**A**: 
- **預設上限**: 100MB
- **建議大小**: < 50MB 可獲得最佳效能
- **最大支援**: 取決於可用記憶體

**處理大檔案建議**:
1. 分批上傳
2. 壓縮後再上傳
3. 增加系統記憶體

### Q14: 可以同時處理多個檔案嗎？

**A**: **可以**。方法：
1. 逐一上傳多個檔案
2. 每個檔案建立獨立任務
3. 系統會依序或並行處理

**建議**:
- 同時處理 < 5 個任務
- 監控系統資源使用

### Q15: 如何匯出資料？

**A**: 有多種匯出方式：

1. **透過 UI**:
   - Data Analysis → 資料表格 → 匯出按鈕
   - Reports → 生成報表 → 下載

2. **支援格式**:
   - CSV: 原始資料
   - Excel: 多工作表報表
   - PDF: 報表文件
   - JSON: 結構化資料

3. **透過 API**:
   - 使用 API 端點程式化下載

### Q16: 可以離線使用所有功能嗎？

**A**: **可以**。所有功能都可離線使用：
- ✅ 檔案上傳
- ✅ 資料分析
- ✅ 事件監控
- ✅ 報表生成
- ✅ 資料匯出

唯一需要網路的是：
- 軟體更新檢查
- 下載新版本

### Q17: 報表可以自訂嗎？

**A**: 目前版本提供三種預設報表類型：
- Summary（摘要）
- Detailed（詳細）
- Analysis（分析）

**自訂報表**:
- 可以透過 API 取得原始資料
- 使用其他工具（Excel, Power BI）進行自訂分析

---

## 效能與限制 (Performance & Limitations)

### Q18: 系統需求是什麼？

**A**: 

**最低需求**:
- CPU: Intel i3 或同等處理器
- RAM: 4GB
- 儲存: 500MB 可用空間

**建議配置**:
- CPU: Intel i5 或更好
- RAM: 8GB 或以上
- 儲存: 2GB 可用空間
- SSD: 建議使用 SSD 提升效能

### Q19: 可以處理多大的資料？

**A**: 

| 資料大小 | 效能 | 建議 |
|----------|------|------|
| < 10MB | 優秀 | 即時處理 |
| 10-50MB | 良好 | 幾秒內完成 |
| 50-100MB | 可接受 | 可能需要等待 |
| > 100MB | 較慢 | 建議分批處理 |

**限制因素**:
- 可用記憶體
- 磁碟 I/O 速度
- CPU 處理能力

### Q20: 如何提升效能？

**A**: 

**硬體優化**:
1. 增加 RAM（最有效）
2. 使用 SSD（提升 I/O）
3. 升級 CPU（加速計算）

**軟體優化**:
1. 關閉不需要的應用程式
2. 處理較小的資料集
3. 定期清理舊資料
4. 重建資料庫索引

**使用習慣**:
1. 避免同時處理過多任務
2. 定期重新啟動系統
3. 監控資源使用

### Q21: 記憶體使用量多少是正常的？

**A**: 

**待機狀態**: 200-300MB
**處理中**: 500MB - 2GB（取決於資料大小）
**峰值**: 可能達到 3-4GB

**如果記憶體持續增長**:
1. 可能有記憶體洩漏
2. 重新啟動系統
3. 檢查日誌檔案
4. 回報問題

---

## 疑難排解 (Troubleshooting)

### Q22: 啟動後瀏覽器顯示「無法連線」？

**A**: 可能原因：

1. **系統尚未完全啟動**
   - 等待 10-15 秒
   - 重新整理頁面

2. **防火牆阻擋**
   - 允許 ATP_Re 通過防火牆
   - 檢查 8000 和 8501 埠號

3. **埠號被佔用**
   - 檢查是否有其他程序使用埠號
   - 終止衝突的程序

### Q23: 上傳檔案失敗？

**A**: 檢查：

1. **檔案大小**
   - 是否超過 100MB 限制
   - 嘗試壓縮後上傳

2. **磁碟空間**
   - 檢查是否有足夠空間
   - 清理不需要的檔案

3. **檔案權限**
   - 確保有讀取檔案的權限
   - 檢查檔案是否被其他程式佔用

4. **檔案格式**
   - 確認是否為支援的格式
   - 檢查檔案是否損壞

### Q24: 任務處理失敗？

**A**: 步驟：

1. **查看錯誤訊息**
   - 在任務詳情中查看錯誤
   - 記錄錯誤代碼

2. **檢查日誌**
   - 查看 `logs/api.log`
   - 尋找相關錯誤訊息

3. **常見原因**:
   - 檔案格式不正確
   - 資料損壞
   - 記憶體不足
   - 磁碟空間不足

4. **解決方法**:
   - 嘗試重新上傳檔案
   - 重新啟動系統
   - 檢查系統資源

### Q25: 資料庫錯誤？

**A**: 

**症狀**: 
- "database is locked"
- "unable to open database"
- "database disk image is malformed"

**解決方法**:

1. **關閉所有 ATP_Re 實例**
2. **備份資料庫**:
   ```bash
   cp data/atp_re.db data/atp_re.db.backup
   ```
3. **重新啟動**
4. **如果仍然錯誤，重建資料庫**:
   - 刪除 `data/atp_re.db`
   - 重新啟動系統
   - 重新匯入資料

### Q26: 圖表顯示不正常？

**A**: 

**可能原因**:
1. 瀏覽器快取
2. JavaScript 錯誤
3. 資料格式問題

**解決方法**:
1. 清除瀏覽器快取（Ctrl+F5）
2. 嘗試不同瀏覽器
3. 檢查瀏覽器控制台錯誤
4. 確認資料完整性

### Q27: 系統變慢或無回應？

**A**: 

**立即措施**:
1. 等待當前任務完成
2. 不要強制關閉（可能損壞資料）

**預防措施**:
1. 避免處理過大的檔案
2. 定期重新啟動
3. 監控系統資源
4. 增加系統記憶體

---

## 資料與安全 (Data & Security)

### Q28: 資料儲存在哪裡？

**A**: 

**Windows**:
```
[安裝目錄]/
├── data/atp_re.db          # 資料庫
├── uploads/                # 上傳的檔案
├── reports/                # 生成的報表
└── logs/                   # 日誌檔案
```

**macOS**:
```
ATP_Re.app/Contents/Resources/
├── data/atp_re.db
├── uploads/
├── reports/
└── logs/
```

### Q29: 如何備份資料？

**A**: 

**簡單備份**:
複製以下目錄/檔案到安全位置：
- `data/atp_re.db` - 資料庫（最重要）
- `uploads/` - 原始檔案
- `reports/` - 報表
- `config/.env` - 配置（如有自訂）

**完整備份**:
- 複製整個 ATP_Re 資料夾

**備份頻率建議**:
- 日常使用: 每週備份
- 重要資料: 每日備份
- 使用雲端儲存: 自動同步

### Q30: 資料安全嗎？

**A**: 

**本地安全**:
- ✅ 所有資料存放在本機
- ✅ 不會傳送到外部伺服器
- ✅ 僅監聽本機位址（localhost）

**使用者責任**:
- 控制誰可以存取電腦
- 設定作業系統密碼
- 定期備份重要資料
- 妥善保管資料檔案

**風險**:
- ⚠️ 任何可以存取電腦的人都可以存取資料
- ⚠️ 沒有內建的存取控制或加密

### Q31: 可以加密資料庫嗎？

**A**: 

**目前版本**: 不支援內建加密

**替代方案**:
1. 使用作業系統檔案加密:
   - Windows: BitLocker
   - macOS: FileVault
2. 使用加密容器:
   - VeraCrypt
   - 7-Zip 加密壓縮
3. 存放在加密磁碟區

### Q32: 會收集使用者資料嗎？

**A**: **不會**。ATP_Re 單機版：
- ❌ 不收集任何使用者資料
- ❌ 不傳送遙測資料
- ❌ 不連線到外部伺服器
- ❌ 不追蹤使用行為

完全在本地運作，保護您的隱私。

---

## 授權與更新 (License & Updates)

### Q33: ATP_Re 的授權條款？

**A**: 

ATP_Re 基於多個開源軟體建構：
- Python: PSF License
- FastAPI: MIT License
- Streamlit: Apache License 2.0
- 其他依賴: 各自的開源授權

詳細授權資訊請參閱:
- `LICENSE.txt` - 主要授權
- `LICENSES/` - 依賴套件授權（如有）

### Q34: 如何檢查更新？

**A**: 

**手動檢查**:
1. 訪問 GitHub 發佈頁面
2. 查看最新版本號
3. 比對當前版本

**版本號位置**:
- 啟動畫面顯示
- 關於頁面（如有）
- 檔案名稱

### Q35: 如何更新到新版本？

**A**: 

**步驟**:
1. **備份資料**:
   - 備份 `data/`, `uploads/`, `reports/`

2. **下載新版本**:
   - 從官方來源下載

3. **安裝新版本**:
   - **選項A**: 安裝到新位置，再複製資料
   - **選項B**: 覆蓋舊版本（Windows）

4. **還原資料**:
   - 複製備份的資料回來

5. **測試**:
   - 啟動新版本
   - 驗證資料完整性

### Q36: 可以降級到舊版本嗎？

**A**: 

**理論上可以，但不建議**:
- 新版本的資料庫可能不相容
- 可能遺失新功能產生的資料

**如果必須降級**:
1. 先匯出所有資料
2. 安裝舊版本
3. 重新匯入資料

**建議**: 保留舊版本的備份，以防萬一

### Q37: 更新後資料會遺失嗎？

**A**: 

**正常情況**: 不會，如果：
- 正確備份資料
- 使用正確的更新程序
- 資料庫相容

**保險措施**:
- 更新前一定要備份
- 測試新版本後再刪除舊版本
- 保留多個備份版本

---

## 其他問題 (Other Questions)

### Q38: 支援哪些語言？

**A**: 

**介面語言**:
- 主要: 繁體中文
- 部分: 英文

**文檔**:
- ✅ 繁體中文
- ✅ 英文

### Q39: 可以在虛擬機中使用嗎？

**A**: **可以**，但：
- 效能可能較差
- 需要配置足夠資源給虛擬機
- 注意網路設定

**建議配置**:
- RAM: 至少 4GB
- CPU: 2 核心或以上
- 儲存: 2GB 以上

### Q40: 可以用於商業用途嗎？

**A**: 請參閱授權條款（`LICENSE.txt`）。開源依賴套件大多允許商業使用，但請確認：
- ATP_Re 本身的授權
- 所有依賴套件的授權
- 您的使用場景是否符合授權條款

### Q41: 有技術支援嗎？

**A**: 

**社群支援**:
- GitHub Issues: 回報問題和功能請求
- GitHub Discussions: 討論和問答
- Wiki: 文檔和教學

**自助資源**:
- 安裝指南
- 使用手冊
- 本 FAQ
- 疑難排解指南

### Q42: 如何貢獻或回報問題？

**A**: 

**回報問題**:
1. 前往 GitHub Issues 頁面
2. 搜尋是否已有類似問題
3. 建立新 Issue
4. 提供詳細資訊:
   - 作業系統版本
   - ATP_Re 版本
   - 錯誤訊息
   - 重現步驟
   - 日誌檔案

**功能請求**:
1. 在 GitHub Issues 建立功能請求
2. 詳細描述需求
3. 說明使用場景

**貢獻程式碼**:
1. Fork 專案
2. 建立功能分支
3. 提交 Pull Request

---

## 聯絡資訊 (Contact Information)

- **GitHub**: https://github.com/Lawliet0813/ATP_re
- **Issues**: https://github.com/Lawliet0813/ATP_re/issues
- **Wiki**: https://github.com/Lawliet0813/ATP_re/wiki

---

**如果您的問題未在此列出，請在 GitHub 提出 Issue！**

**最後更新**: 2024年
**文檔版本**: 1.0.0
